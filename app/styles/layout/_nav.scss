@import "../base/colors";
@import '../helpers/variables';
@import '../base/typography';

// burger and logo rise on scroll
  
.js-logo-rise {
  transition: translate .5s .2s;
  translate: 0 -5em;
}

.js-logo-move {
  transition: translate .5s .2s;
  translate: 5em 0;
}

.js-icon-rise {
  transition: translate .5s .2s;
  translate: 0 -5em;
}

.js-burger-rise {
  transition: translate .25s;
  translate: 0 -5em;
}
.js-burger-move {
  transition: translate .5s;
  translate: 5em 0;
}

.js-noparallax {
  translate: 0 0;
}

.js-bgc--dk {
  transition: all .5s;
}

.js-bgc--lt {
  transition: all .5s;
}

.js-logo-invisible {
  opacity: 0;
  transition: opacity .5s;
}
.js-icon-invisible {
  opacity: 0;
  transition: opacity .5s;
}

.o-noscroll{
  overflow-y: hidden;
}

// nav element

nav {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: 1fr;
  height: 3.5em;
  inset: auto 0 auto auto;
  place-items: end;
  position: fixed;
  width: 4.5em;
  z-index: 777;
}

// header

header {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: 2fr;
  inset: 1.5em auto auto auto;
  position: sticky;
  z-index: 776;

  .o-logo {
    display: grid;
    grid-column: 1;
    grid-template-columns: 1fr;
    grid-row: 1;
    grid-template-rows: 2em;
    padding: 0 1.5em;
    transition: translate .25s, opacity 1s;

    img {
      grid-column: 1;
      grid-row: 1;
      height: 100%;
      margin: 0 auto;
    }
  }

  .o-icon {
    grid-column: 1;
    grid-row: 1;
    padding: 0 0 0 1.2em;
    transition: translate .25s, opacity 1s;
    
    a {
      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: 2em;
    }

    img {
      grid-column: 1;
      grid-row: 1;
      height: 100%;
    }

    .o-icon--lt {
      img {
        place-self: start;
      }
    }
  }
}

// buger
.c-burger {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: 1fr;
  height: 1em;
  isolation: isolate;
  transition: translate .25s;
  width: 1.5em; // 2.5em
  place-self: start end;

    &__toggler {
      cursor: pointer;
      height: 1.25em;
      inset: 0 0 auto auto;
      opacity: 0;
      position: absolute;
      translate: clamp(-1em, -6dvw, -1.75em) clamp(1em, 6dvw, 1.5em);
      width: 1.25em;
      z-index: 3;
    }

    &__container--lt {
      cursor: pointer;
      height: 1.5em;
      inset: 0 0 auto auto;
      position: absolute;
      transition: width .5s;
      translate: clamp(-1.25em, -6.5dvw, -2em) clamp(1.75em, 2dvw, 1.75em);
      width: 1em;
      z-index: 2;

      &::before {
        background: $color-neu-200;
        content: '';
        height: 3px;
        inset: 0 0 auto auto;
        position: absolute;
        transition: width .5s, inset .5s, rotate .5s;
        width: 1.5em;
      }

      &::after {
        background: $color-neu-200;
        content: '';
        height: 3px;
        inset: auto 0 .4em auto;
        position: absolute;
        transition: width .5s, inset .5s, rotate .5s;
        width: 1.5em;
      }
    }

    &__container--dk {
      cursor: pointer;
      height: 1.5em;
      inset: 0 0 auto auto;
      position: absolute;
      transition: width .5s;
      translate: clamp(-1.25em, -6.5dvw, -2em) clamp(1.75em, 2dvw, 1.75em);
      width: 1em;
      z-index: 2;

      &::before {
        background: $color-neu-500;
        content: '';
        height: 3px;
        inset: 0 0 auto auto;
        position: absolute;
        transition: width .5s, inset .5s, rotate .5s;
        width: 1.5em;
      }

      &::after {
        background: $color-neu-500;
        content: '';
        height: 3px;
        inset: auto 0 .4em auto;
        position: absolute;
        transition: width .5s, inset .5s, rotate .5s;
        width: 1.5em;
      }
    }

    &__menu {
      display: flex;
      flex-direction: column;
      grid-column: 1;
      grid-row: 1;
      height: 100dvh;
      inset: 0 0 auto auto;
      justify-content: space-between;
      opacity: 0;
      padding: clamp(1.5em, 6dvw, 3.5em) 2em;
      position: absolute;
      translate: 150dvw 0;
      transition: translate .5s, opacity .2s 1s;
      width: 100dvw;
      z-index: 1;

      p {
        border-bottom: 1px solid $color-neu-250;
        color: $color-neu-200;
        opacity: 0;
        padding: 0 0 1em 0;
        transition: opacity .1s 1s;
        text-transform: uppercase;
      }

      ul {
        margin: 0;
        padding: 0;
      }

      li {
        color: $color-neu-200;
        cursor: pointer;
        font-size: 4em;
        line-height: 1.2;
        font-weight: 900;
        opacity: 0;
        text-transform: uppercase;
        transition: opacity 0s 1s;
        width: min-content;
      }

      h4 {
        cursor: pointer;
        opacity: 0;
        transition: opacity .1s 1s;
        width:fit-content
      }

      .js-text-link {
        color: $color-neu-200;

        &:hover {
          color: $color-neu-200;
        }
      }
      
      &--icons {
        align-items: end;
        border-top: 1px solid $color-neu-250;
        display: flex;
        opacity: 0;
        padding: 1em  0 0 0;
        transition: opacity .1s 1s;

        .icons {
          display: flex;
        }
        
        img {
          cursor: pointer;
          margin-right: 1em;
          width: 2.5em;
        }
      }

      .disclaimer {
        font-size: .675em;
      }

      &::before {
        background: $color-prime-375;
        content: '';
        backdrop-filter: blur(1.25em);
        -webkit-backdrop-filter: blur(1.25em);
        inset: 0;
        opacity: 0;
        position: absolute;
        transition: opacity .1s 1s;
        z-index: -1;
      }
    }

    // hover animation
    
    &__toggler:hover + &__container--lt, &__toggler:hover + &__container--dk, &__toggler:focus + &__container--lt, &__toggler:focus + &__container--dk{
      &::before {
        transition: width .5s;
        transition: inset .5s, rotate .5s, width .5s;
        // width: 2.5em;
        
      }

      &::after{
        transition: width .5s;
        transition: inset .5s, rotate .5s, width .5s;
        width: 1em;
      }
    }

    // toggle animation

    &__toggler:checked + &__container--lt::before, &__toggler:checked + &__container--dk::before, &__toggler:checked + &__container--lt::after, &__toggler:checked + &__container--dk::after {
      transition: inset .5s, rotate .5s, width .5s;
      width: 2em;
    }

    &__toggler:checked + &__container--lt::before, &__toggler:checked + &__container--dk::before{
      background: $color-neu-200;
      inset: .65em 0 auto auto;
      rotate: 315deg;
    }

    &__toggler:checked + &__container--lt::after, &__toggler:checked + &__container--dk::after{
      background: $color-neu-200;
      inset: auto 0 0.65em auto;
      rotate: 405deg;
    }

    // toggle checked

    &__toggler:checked ~ &__menu {
      border-radius: 0;
      height: 100dvh;
      opacity: 1;
      translate: 0 0;
      transition: translate .5s, opacity .1s;

      &::before {
        opacity: 1;
        transition: opacity .1s ;
      }
    }

    .js-nav-build--in {
      opacity: 1;
      transition: all .8s 300ms;
    }
}

@media screen and (min-width: $tablet) {
  header {
    width: 100dvw;

      .o-logo {
        img {
          margin: 0;
          place-self: start;
          width: initial;
        }
      }
      .o-icon {
        img {
          place-self: start;
          padding: 0;
        }
      }
    }
}

@media screen and (orientation: landscape) {

  nav {
    display: absolute;
    height: 3.5em;
    inset: 0 0 auto auto;
    margin: 0;
    position: fixed;
    width: 4.5em;
    z-index: 999;
  }

  .c-burger {
    inset: auto 0 auto auto;
    margin: 0;

    &__toggler {
      translate: clamp(-1.5em, -6dvw, -1.75em) clamp(1em, 6dvw, 1.5em);
      }
    &__container {
    translate: clamp(-1.75em, -6.5dvw, -2em) clamp(1.75em, 2dvw, 1.75em);
    }

    &__bg {
      translate: clamp(-1em, -8.5dvw, -1em) clamp(.75em, 2dvw, .75em);
    }

    &__menu {
      inset: 0 0 auto auto;
      transition: translate .5s, opacity 0s .6s;
      translate: 45dvw 0;
      width: 45dvw;

        &::before {
          box-shadow: 0 0 0 black,
          -.15em 0 2em rgb(40,40,40),
          inset 2em 2em 4em $color-prime-300;
        }

        &--icons {
          justify-content: space-between;
        }
    }

    &--divider {
      position: absolute;
      height: 100dvh;
      inset: 0 0 auto auto;
      opacity: 0;
      transition: all 1s, translate 1s .5s;
      translate: 100dvw 0;
      width: 100dvw;
    }

    // toggle checked

    &__toggler:checked ~ &__menu {
      translate: 0 0;
      &::before {
        box-shadow: -.15em 0 2em rgb(40,40,40),
        inset 2em 2em 4em $color-prime-300;
        transition: translate .5s, box-shadow .5s;
      }
    }

    &__toggler:checked ~ &--divider {
      background: $color-neu-205;
      backdrop-filter: blur(.875em);
      -webkit-backdrop-filter: blur(.875em);
      box-shadow: inset .2em 0 .5em $color-neu-575;
      inset: 0 0 auto auto;
      opacity: 1;
      position: absolute;
      transition: opacity 1s;
      translate: 0 0;
    }
  }
}