@import '../base/colors';
@import '../helpers/variables';

// @import 'colors', 'typography', 'typography', 'animations';

// prime text animation

.js-text-link {
  transition: color .5s;
  cursor: pointer;

  &:hover {
    transition: color .5s;
    color: $color-neu-200;
  }
}

// js backgrounds

.js-bgc--lt {
  background-color: $color-neu-200;
}

.js-bgc--dk {
  background-color: $color-neu-500;
}

// buttons

button {
  background: $color-neu-200;
  // border: none; // not a good solution for high contrast setting users
  color: $color-neu-200;
  display: block;
  border-color: transparent;
  padding: 0.5em 1.4em;
}

.btn-prime {
  background: $color-prime-100;
  color: $color-neu-200;
  transition: all 0.3s ease-in;

  &:hover,
  &:focus {
    // animation: flicker 0.7s infinite;
    background: $color-prime-400;
    color: $color-neu-500;
    cursor: pointer;
    transition: all 0.3s ease-in;
  }
}
// .btn-prime {
//   overflow: hidden;
//   position: relative;
//   transition: opacity 0.3s;

//   &::before {
//     content: "";
//     opacity: 0;
//     inset: 0;
//     position: absolute;
//   }
//   &::after {
//     background: $color-neu-100;
//     content: "";
//     inset: 0;
//     opacity: 0;
//     position: absolute;
//     width: 0.5em;
//   }

//   &:hover,
//   &:focus {
//     animation: flicker 0.7s infinite;
//     background: $color-neu-150;
//     backdrop-filter: blur(0.8em);
//     box-shadow: 0 0 1em $color-neu-150;
//     cursor: pointer;
//     transition: all 0.3s ease-in;

//     &::before {
//       opacity: 1;
//     }
//     &::after {
//       animation: scan 1.5s cubic-bezier(0.61, -0.09, 0.33, 1.08) infinite
//         alternate;
//       opacity: 0;
//     }
//   }
// }

.btn-secondary {
  // background: $color-neu-200;
  border: 1px solid $color-neu-500;
  color: $color-neu-500;
  isolation: isolate;
  position: relative;
  transition: all 0.3s ease-in;

  &::before, &::after {
    content: '';
    inset: 0;
    position: absolute;
    transition: all 0.3s ease-in;
    z-index: -1;
  }

  &:hover::before, &:focus::before {
      background: $color-prime-300;
      position: absolute;
      transition: all 0.3s ease-in;
  }

  &:hover,
  &:focus {
    // animation: flicker 0.7s infinite;
    background: $color-prime-300;
    border: 1px solid $color-neu-500;
    color: $color-neu-200;
    cursor: pointer;
    transition: all 0.3s ease-in;
  }
}

// .btn-secondary {
//   background: $color-neu-200;
//   border-color: transparent;
//   color: $color-neu-500;
//   cursor: pointer;
//   font-size: 1.5em;
//   font-weight: 800;
//   isolation: isolate;
//   padding: 0.5em 1em;
//   position: relative;
//   text-transform: uppercase;
//   transition: color 0.5s;

//   &::before,
//   &::after {
//     content: "";
//     display: block;
//     inset: 50% 0 0 50%;
//     position: absolute;
//     z-index: -1;
//   }

//   &::before {
//     border: .1em solid $color-neu-500;
//     height: 100%;
//     transition: border 0.5s;
//     translate: -50% -50%;
//     width: 100%;
//   }
//   &::after {
//     background: $color-neu-200;
//     clip-path: polygon(
//       10% 0,
//       90% 0,
//       90% 25%,
//       100% 25%,
//       100% 75%,
//       90% 75%,
//       90% 100%,
//       10% 100%,
//       10% 75%,
//       0 75%,
//       0 25%,
//       10% 25%
//     );
//     transform: scale(205%, 220%);
//     transition: clip-path 0.5s;
//     translate: -50% -50%;
//   }

//   &:hover {
//     color: $color-prime-300;
//     &::before {
//       border: .1em solid $color-prime-300;
//       transition: border 0.5s;
//     }
//     &::after {
//       clip-path: polygon(
//         20% 0,
//         80% 0,
//         80% 40%, //
//         100% 40%,
//         100% 60%,
//         80% 60%, //
//         80% 100%,
//         20% 100%,
//         20% 60%, //
//         0 60%,
//         0 40%,
//         20% 40%
//       );
//       transition: clip-path 0.5s, color 0.5s;
//     }
//   }
// }

.btn-tertiary {
  background: $color-neu-500;
  border-color: transparent;
  color: $color-neu-200;
  cursor: pointer;
  font-size: 1.5em;
  font-weight: 800;
  isolation: isolate;
  padding: 0.5em 1em;
  position: relative;
  text-transform: uppercase;
  transition: color 0.5s;

  &::before,
  &::after {
    content: "";
    display: block;
    inset: 50% 0 0 50%;
    position: absolute;
    z-index: -1;
  }

  &::before {
    border: .05em solid $color-neu-200;
    height: 100%;
    transition: border 0.5s;
    translate: -50% -50%;
    width: 100%;
  }
  &::after {
    background: $color-neu-500;
    clip-path: polygon(
      10% 0,
      90% 0,
      90% 25%,
      100% 25%,
      100% 75%,
      90% 75%,
      90% 100%,
      10% 100%,
      10% 75%,
      0 75%,
      0 25%,
      10% 25%
    );
    transform: scale(205%, 220%);
    transition: clip-path 0.5s;
    translate: -50% -50%;
  }

  &:hover {
    color: blue;
    &::before {
      border: .05em solid $color-prime-400;
      transition: border 0.5s;
    }
    &::after {
      clip-path: polygon(
        20% 0,
        75% 0,
        75% 40%,
        100% 40%,
        100% 60%,
        85% 60%,
        85% 100%,
        20% 100%,
        20% 60%,
        0 60%,
        0 40%,
        20% 40%
      );
      transition: clip-path 0.5s, color 0.5s;
    }
  }
}

.btn-icon {
  background: $color-neu-500;
  border-color: transparent;
  color: $color-prime-400;
  font-size: 3dvw;
  isolation: isolate;
  line-height: .5;
  padding: 0em 0.25em 0.25em 0.25em;
  position: relative;
  text-transform: uppercase;
  transition: color 0.5s;

  &::before,
  &::after {
    content: "";
    display: block;
    inset: 50% 0 0 50%;
    position: absolute;
    z-index: -1;
  }

  &::before {
    border: .05em solid $color-prime-400;
    height: 100%;
    transition: border 0.5s;
    translate: -50% -50%;
    width: 100%;
  }
  &::after {
    background: $color-neu-500;
    clip-path: polygon(
      25% 0,
      75% 0,
      90% 25%, //
      100% 25%,
      100% 75%,
      90% 75%, //
      75% 100%,
      25% 100%,
      10% 75%, //
      0 75%,
      0 25%,
      10% 25%
    );
    transform: scale(210%, 220%);
    transition: clip-path 0.5s;
    translate: -50% -50%;
  }

  &:hover {
    color: $color-neu-200;
    &::before {
      border: .05em solid $color-neu-200;
      transition: border 0.5s;
    }
    &::after {
      clip-path: polygon(
        35% 0,
        65% 0,
        65% 35%, //
        100% 35%,
        100% 65%,
        65% 65%, //
        65% 100%,
        35% 100%,
        35% 65%, //
        0 65%,
        0 35%,
        35% 35%
      );
      transition: clip-path 0.5s, color 0.5s;
    }
  }
}

.btn-text {
  color: $color-prime-400;
  position: relative;
  transition: all 0.5s;

  &::before {
    background: $color-prime-400;
    content: '';
    height: .04em;
    inset: auto auto -.075em 0;
    position: absolute;
    transition: all 0.5s;
    width: 1em;
  }

  &:hover, &:focus {
    color: $color-neu-200;
    transition: all 0.5s;

    &::before {
      background: $color-neu-200;
      transition: all 0.5s;
      width: 50%;
    }
  }
}

.social {
  cursor: pointer;
  transition: filter 1s;
}

.social:hover {
  filter: invert(48%) sepia(80%) saturate(1000%) hue-rotate(325deg) brightness(70%) contrast(300%);
  transition: filter .5s;
}

@keyframes scan {
  0% {
    box-shadow: 0.08em 0.08em 1em 0.4em $color-neu-175,
      -0.25em 0 0.01em 0.25em $color-prime-300,
      1em 0 0.01em 0.25em $color-prime-200;
    left: -32%;
    opacity: 1;
  }
  100% {
    box-shadow: 0 0.08em 0.9em 0.4em $color-neu-175,
      -1em 0 0.01em 0.25em $color-prime-300,
      0 0 0.01em 0.25em $color-prime-200;
    left: 140%;
    opacity: 1;
  }
}

@keyframes flicker {
  0% {opacity: 1;}
  5% {opacity: 0.9;}
  10% {opacity: 1;}
  15% {opacity: 0.85;}
  20% {opacity: 1;}
  45% {opacity: 0.9;}
  50% {opacity: 1;}
  55% {opacity: 0.85;}
  60% {opacity: 1;}
  70% {opacity: 0.9;}
  90% {opacity: 1;}
  100% {opacity: 1;}
}

// section titles

.o-section__title--blue {
  color: $color-prime-300;
  text-transform: uppercase;
}
.o-section__title--litblue {
  color: $color-prime-400;
  text-transform: uppercase;
}

// work tooltips

.o-work__legend {
    p b{
      color: $color-prime-300;
    }
    ul {
      display: flex;
      margin: 0 0 2em 0;
      padding: 1em 0 .25em 0;

      li {
        line-height: .5;
        margin: 0 1em 0 0;
      }
  }

  &--lang {
    li {
      border: 1px solid $color-neu-500;
      border-radius: 2em;
      padding: 1em 1.5em;
    }
  }
  &--types {
    li {
      border: 1px solid $color-neu-500;
      padding: 1em;
    }
  }
}

@media screen and (min-width: $tablet) {

  .o-title {
    grid-column: 2/span 2;
    grid-row: 1;
    place-self: center start;
  }

  // work tooltips

  .o-work__legend {
    display: flex;
    justify-content: space-between;

    &--lang {
      li {
        border: 1px solid $color-neu-500;
        border-radius: 2em;
        padding: 1em 1.5em;
      }
    }
    &--types {
      li {
        border: 1px solid $color-neu-500;
        padding: 1em;
      }
    }
  }
}

@media screen and (min-width: $laptop) {
  .o-title {
    grid-column: 1/span 2;
    grid-row: 1;
    margin: 2em 0 2em 3.5em;
    place-self: center start;
    // position: sticky;
    top: 2.1em;
  }
}

@media screen and (min-width: $desktop) {
  .o-title {
    grid-column: 1/span 2;
    grid-row: 1/span 2;
    margin: 2em 0 2em 3.5em;
    place-self: center start;
    position: sticky;
    top: 1.4em;
    writing-mode: vertical-lr;
  }
}

// tooltips

.o-tooltip {
  cursor: crosshair;
  font-family: sans-serif;
  isolation: isolate;
  position: relative;

  &::before,
  &::after {
    background: $color-prime-300;
    translate: -50% 0;
    position: absolute;
    scale: 0;
  }

  &::before {
    color: $color-neu-200;
    content: attr(data-tooltip);
    inset: auto auto -5em 50%;
    padding: 1em;
    text-align: center;
    transition: scale 0.15s 0.15s;
    width: max-content;
  }
  &::after {
    content: "";
    height: 1em;
    inset: auto auto -2.5em 50%;
    rotate: 45deg;
    transition: scale 0.15s;
    width: 1em;
  }

  &:hover::before {
    scale: 1;
    transition: scale 0.25s;
  }
  &:hover::after {
    scale: 1;
    transition: scale 0.25s 0.2s;
    z-index: -1;
  }
}

// js image loading blur classes

.js-hover-image {
  cursor: pointer;
}

.js-img-blur {
  background-size: cover;
  background-position: center;
  height: fit-content;
  width: 100%;
}

.js-img-blur img {
  opacity: 0;
  transition: all .65s;
}
.js-img-blur .js-loaded {
  opacity: 1;
  transition: all .65s;
}

// general hide class

.js-hide {
  filter: opacity(1);
  transition: all .65s;
}

@media screen and (min-width: $laptop) {
  .js-hide {
    filter: opacity(0);
    transition: all .65s;
  }
}

// image stacking

.o-image--stack {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: 1fr;
}
.o-image--stack img {
  grid-column: 1;
  grid-row: 1;
}

.o-image--stack video {
  grid-column: 1;
  grid-row: 1;
}

// circle cursers

.o-circle, .o-circle-links, .o-circle-airplane {
  align-items: center;
  background: $color-prime-360;
  backdrop-filter: blur(.5em);
  -webkit-backdrop-filter: blur(.5em);
  border-radius: 50%;
  display: flex;
  height: 5.5em;
  justify-content: center;
  left: 0;
  opacity: 1;
  padding: 1.5em;
  position: absolute;
  top: 0;
  transition: scale .25s, opacity .25s;
  scale: 100%;
  width: 5.5em;
  z-index: 30;
}

.js-circle--invisible {
  opacity: 0;
  scale: 0%;
  transition: scale .25s, opacity .25s;
}

.js-links-invisible {
  // display: none;
  opacity: 0;
  scale: 0%;
  transition: scale .25s, opacity .25s;
}
.js-airplane-invisible {
  // display: none;
  opacity: 0;
  scale: 0%;
  transition: scale .25s, opacity .25s;
}

// js smoothing animations in paralax

.js-parallax-about {
  transition: all 2s;
}

// social icons

.social {
  transition: filter 1s;
}

.social:hover {
  filter: invert(48%) sepia(80%) saturate(1000%) hue-rotate(325deg) brightness(70%) contrast(300%);
  transition: filter .5s;
}

// scrollbar styles

  ::-webkit-scrollbar {
    width: 6px;
  }
  ::-webkit-scrollbar-track {
    background: $color-neu-205;
    z-index: -1000;
  }
  ::-webkit-scrollbar-thumb {
    background: $color-prime-300;
  }