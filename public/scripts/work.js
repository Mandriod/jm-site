var characters="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",navClick=0,allSection=document.querySelectorAll(".js-section"),bgDark=document.querySelectorAll(".js-bgc--dk"),bgLight=document.querySelectorAll(".js-bgc--lt"),logoDark=document.querySelector(".js-logo--dk"),logoLight=document.querySelector(".js-logo--lt"),iconDark=document.querySelector(".js-icon--dk"),iconLight=document.querySelector(".js-icon--lt"),mouseCircle=document.querySelector("div.o-circle"),blurred=document.querySelectorAll(".js-img-blur"),blurredImg=document.querySelectorAll(".js-img-blur"),textLink=document.querySelectorAll(".js-text-link"),loaderLogo=document.querySelector(".js-loader-logo"),logoRise=document.querySelector(".js-logo"),iconActions=document.querySelector(".js-icon"),burgerRise=document.querySelector(".js-burger"),burgerLines=document.querySelector(".js-burger__container"),navAnimationHome=document.querySelector(".js-nav-animation-home"),navAnimationWork=document.querySelector(".js-nav-animation-work"),navAnimationAbout=document.querySelector(".js-nav-animation-about"),navAnimationOffer=document.querySelector(".js-nav-animation-offer"),navAnimationTalk=document.querySelector(".js-nav-animation-talk"),menuToggler=document.querySelector(".c-burger__toggler"),navigationClick=document.querySelector(".c-burger--divider"),buildIn=document.querySelectorAll(".js-nav-menu--buid"),bodyMain=document.querySelector("body"),workHeroImages=document.querySelectorAll(".js-work-hero"),workHeroHover=document.querySelectorAll(".js-work-hover"),projectAmount=document.querySelector(".js-project-total"),projectTotal=document.querySelectorAll(".o-project"),labAmount=document.querySelector(".js-experiments-total"),labTotal=document.querySelectorAll(".o-lab"),projectNumberOrder=document.querySelectorAll(".js-project-number"),labNumberOrder=document.querySelectorAll(".js-lab-number"),parallaxLight=document.querySelectorAll(".js-parallax-light"),parallaxRediculous=document.querySelectorAll(".js-parallax-rediculous"),parallaxLudicrous=document.querySelectorAll(".js-parallax-ludicrous"),parallaxPlaid=document.querySelectorAll(".js-parallax-plaid"),parallaxAbout=document.querySelectorAll(".js-parallax-about"),browseCTA=document.querySelector(".js-browse-cta"),circleHover=document.querySelector(".js-circle"),imgHover=document.querySelectorAll(".js-hover-image");function primeAnimate(r){var n=0,e=null;clearInterval(e),setTimeout(function(){e=setInterval(function(){r.innerText=r.dataset.value.split("").map(function(e,o){return o<n?r.dataset.value[o]:characters[Math.floor(36*Math.random())]}).join(""),n>r.dataset.value.length&&clearInterval(e),n+=.022*r.dataset.value.length},15)})}blurred.forEach(function(e){var o=e.querySelectorAll(".js-image");function r(){o.forEach(function(e){e.classList.add("js-loaded")})}0<o.length&&o[0].complete?r():o.forEach(function(e){e.addEventListener("load",r)})}),textLink.forEach(function(e){e.addEventListener("mouseover",function(){primeAnimate(e)})}),window.onload=function(e){setTimeout(function(){primeAnimate(loaderLogo)},0)};var lightbgObserverOptions={rootMargin:"-32px 0px -95% 0px"},lightbgObserver=new IntersectionObserver(function(e,o){e.forEach(function(e){e.isIntersecting?(iconDark.classList.remove("js-logo-invisible"),iconLight.classList.add("js-logo-invisible"),burgerLines.classList.remove("c-burger__container--lt"),burgerLines.classList.add("c-burger__container--dk")):(iconDark.classList.add("js-logo-invisible"),iconLight.classList.remove("js-logo-invisible"),burgerLines.classList.add("c-burger__container--lt"),burgerLines.classList.remove("c-burger__container--dk"))})},lightbgObserverOptions),mouseX=(bgLight.forEach(function(e){lightbgObserver.observe(e)}),menuToggler.addEventListener("change",function(){1==this.checked&&(bodyMain.classList.toggle("o-noscroll"),navClick<=0&&(buildIn.forEach(function(e){e.classList.add("js-nav-build--in")}),setTimeout(function(){primeAnimate(navAnimationHome)},300),setTimeout(function(){primeAnimate(navAnimationWork)},800),setTimeout(function(){primeAnimate(navAnimationAbout)},1300),setTimeout(function(){primeAnimate(navAnimationTalk)},1800)),navClick++),0==this.checked&&bodyMain.classList.remove("o-noscroll")}),document.addEventListener("click",function(e){1==menuToggler.checked&&e.target==navigationClick&&(menuToggler.checked=!1,bodyMain.classList.remove("o-noscroll"))}),document.addEventListener("keydown",function(e){1==menuToggler.checked&&"Escape"===e.key&&(menuToggler.checked=!1,bodyMain.classList.remove("o-noscroll"))}),0),mouseY=0,circleX=0,circleY=0,speed=.06,mouseFollow=function e(){circleX+=(mouseX-circleX)*speed,circleY+=(mouseY-circleY)*speed,mouseCircle.style.left=circleX+"px",mouseCircle.style.top=circleY+"px",requestAnimationFrame(e)},imgHoverIndex=(mouseFollow(),void 0),scrollDirection=(imgHover.forEach(function(e,o){e.addEventListener("mouseenter",function(e){imgHoverIndex=o,circleHover.classList.remove("js-circle--invisible"),imgHover[imgHoverIndex].classList.toggle("js-hide"),imgHover[imgHoverIndex].play(),circleHover.addEventListener("mouseenter",function(e){circleHover.classList.remove("js-circle--invisible"),imgHover[imgHoverIndex].classList.remove("js-hide"),imgHover[imgHoverIndex].play()})}),e.addEventListener("mouseleave",function(e){circleHover.classList.add("js-circle--invisible"),imgHover[imgHoverIndex].classList.toggle("js-hide"),imgHover[imgHoverIndex].pause()}),circleHover.addEventListener("mouseleave",function(e){circleHover.classList.add("js-circle--invisible"),imgHover[imgHoverIndex].classList.add("js-hide")})}),document.addEventListener("mousemove",function(e){mouseX=e.pageX,mouseY=e.pageY}),function(){0===scrollY&&(logoRise.classList.remove("js-logo-rise"),iconActions.classList.add("js-icon-rise")),this.scrollOld<this.scrollY?(logoRise.classList.add("js-logo-rise"),iconActions.classList.remove("js-icon-rise")):iconActions.classList.add("js-icon-rise")});function mediaQ(){var e=window.matchMedia("(min-width: 767px)");!1===e.matches&&(window.onscroll=function(e){scrollDirection(),this.scrollOld=this.scrollY}),!0===e.matches&&(window.onscroll=function(e){scrollDirection(),this.scrollOld=this.scrollY})}function worksRunningTotals(e,o){o="0"+o.length;e.innerText=o}window.addEventListener("DOMContentLoaded",mediaQ),window.addEventListener("resize",mediaQ),workHeroHover.forEach(function(e,o){e.addEventListener("mouseover",function(){0===o&&(workHeroImages[0].classList.remove("js-hide"),workHeroImages[1].classList.add("js-hide")),o<=1?workHeroImages[o].classList.remove("js-hide"):workHeroImages[o].classList.add("js-hide")})}),worksRunningTotals(projectAmount,projectTotal),worksRunningTotals(labAmount,labTotal),projectNumberTracking=function(e,o){number=o+1,e.innerText="/0"+number},projectNumberOrder.forEach(function(e,o){projectNumberTracking(e,o)}),labNumberOrder.forEach(function(e,o){projectNumberTracking(e,o)});