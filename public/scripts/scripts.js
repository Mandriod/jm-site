var characters="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",navClick=0,bgDark=document.querySelectorAll(".js-bgc--dk"),bgLight=document.querySelectorAll(".js-bgc--lt"),logoDark=document.querySelector(".js-logo--dk"),logoLight=document.querySelector(".js-logo--lt"),iconDark=document.querySelector(".js-icon--dk"),iconLight=document.querySelector(".js-icon--lt"),mouseCircle=document.querySelector("div.o-circle"),blurred=document.querySelectorAll(".js-img-blur"),textLink=document.querySelectorAll(".js-text-link"),logoRise=document.querySelector(".js-logo"),iconActions=document.querySelector(".js-icon"),burgerRise=document.querySelector(".js-burger"),burgerLines=document.querySelector(".js-burger__container"),navAnimationHome=document.querySelector(".js-nav-animation-home"),navAnimationWork=document.querySelector(".js-nav-animation-work"),navAnimationAbout=document.querySelector(".js-nav-animation-about"),navAnimationOffer=document.querySelector(".js-nav-animation-offer"),navAnimationTalk=document.querySelector(".js-nav-animation-talk"),menuToggler=document.querySelector(".c-burger__toggler"),navigationClick=document.querySelector(".c-burger--divider"),buildIn=document.querySelectorAll(".js-nav-menu--buid"),bodyMain=document.querySelector("body"),loaderLogo=document.querySelector(".js-loader-logo"),headlineA=document.querySelector(".js-hero-headlineA"),headlineB=document.querySelector(".js-hero-headlineB"),headlineC=document.querySelector(".js-hero-headlineC"),headlineD=document.querySelector(".js-hero-headlineD"),heroH1=document.querySelector(".js-hero__intro"),heroVideo=document.querySelector(".js-hero--video"),parallaxLight=document.querySelectorAll(".js-parallax-light"),parallaxRediculous=document.querySelectorAll(".js-parallax-rediculous"),parallaxLudicrous=document.querySelectorAll(".js-parallax-ludicrous"),parallaxPlaid=document.querySelectorAll(".js-parallax-plaid"),browseCTA=document.querySelector(".js-browse-cta"),circleHover=document.querySelector(".js-circle"),imgHover=document.querySelectorAll(".js-hover-image"),canvas=document.querySelector("canvas"),parallaxAbout=document.querySelectorAll(".js-parallax-about");function primeAnimate(a){var r=0,e=null;clearInterval(e),setTimeout(function(){e=setInterval(function(){a.innerText=a.dataset.value.split("").map(function(e,o){return o<r?a.dataset.value[o]:characters[Math.floor(36*Math.random())]}).join(""),r>a.dataset.value.length&&clearInterval(e),r+=.022*a.dataset.value.length},15)})}blurred.forEach(function(e){var o=e.querySelectorAll(".js-image");function a(){o.forEach(function(e){e.classList.add("js-loaded")})}0<o.length&&o[0].complete?a():o.forEach(function(e){e.addEventListener("load",a)})}),textLink.forEach(function(e){e.addEventListener("mouseover",function(){primeAnimate(e)})}),window.onload=function(e){setTimeout(function(){primeAnimate(loaderLogo)},0),setTimeout(function(){primeAnimate(headlineA)},1600),setTimeout(function(){primeAnimate(headlineB)},2300),setTimeout(function(){primeAnimate(headlineC)},3e3),setTimeout(function(){primeAnimate(headlineD)},3700)};for(var lightbgObserverOptions={rootMargin:"-32px 0px -95% 0px"},lightbgObserver=new IntersectionObserver(function(e,o){e.forEach(function(e){e.isIntersecting?(iconDark.classList.remove("js-logo-invisible"),iconLight.classList.add("js-logo-invisible"),burgerLines.classList.remove("c-burger__container--lt"),burgerLines.classList.add("c-burger__container--dk")):(iconDark.classList.add("js-logo-invisible"),iconLight.classList.remove("js-logo-invisible"),burgerLines.classList.add("c-burger__container--lt"),burgerLines.classList.remove("c-burger__container--dk"))})},lightbgObserverOptions),mouseX=(bgLight.forEach(function(e){lightbgObserver.observe(e)}),menuToggler.addEventListener("change",function(){1==this.checked&&(bodyMain.classList.toggle("o-noscroll"),navClick<=0&&(buildIn.forEach(function(e){e.classList.add("js-nav-build--in")}),setTimeout(function(){primeAnimate(navAnimationHome)},300),setTimeout(function(){primeAnimate(navAnimationWork)},800),setTimeout(function(){primeAnimate(navAnimationAbout)},1300),setTimeout(function(){primeAnimate(navAnimationTalk)},1800)),navClick++),0==this.checked&&bodyMain.classList.remove("o-noscroll")}),document.addEventListener("click",function(e){1==menuToggler.checked&&e.target==navigationClick&&(menuToggler.checked=!1,bodyMain.classList.remove("o-noscroll"))}),document.addEventListener("keydown",function(e){1==menuToggler.checked&&"Escape"===e.key&&(menuToggler.checked=!1,bodyMain.classList.remove("o-noscroll"))}),0),mouseY=0,circleX=0,circleY=0,speed=.06,mouseFollow=function e(){circleX+=(mouseX-circleX)*speed,circleY+=(mouseY-circleY)*speed,mouseCircle.style.left=circleX+10+"px",mouseCircle.style.top=circleY+10+"px",requestAnimationFrame(e)},imgHoverIndex=(mouseFollow(),document.addEventListener("mousemove",function(e){mouseX=e.pageX,mouseY=e.pageY}),void 0),context=(imgHover.forEach(function(e,o){e.addEventListener("mouseenter",function(e){imgHoverIndex=o,circleHover.classList.remove("js-circle--invisible"),imgHover[imgHoverIndex].classList.toggle("js-hide"),imgHover[imgHoverIndex].play(),circleHover.addEventListener("mouseenter",function(e){circleHover.classList.remove("js-circle--invisible"),imgHover[imgHoverIndex].classList.remove("js-hide"),imgHover[imgHoverIndex].play()})}),e.addEventListener("mouseleave",function(e){circleHover.classList.add("js-circle--invisible"),imgHover[imgHoverIndex].classList.toggle("js-hide"),imgHover[imgHoverIndex].pause()}),circleHover.addEventListener("mouseleave",function(e){circleHover.classList.add("js-circle--invisible"),imgHover[imgHoverIndex].classList.add("js-hide")})}),canvas.getContext("2d")),frameCount=180,currentFrame=(canvas.width=window.innerWidth,canvas.height=window.innerHeight,canvas.style.background="#3B3B3B",function(e){return"images/"+(e+1).toString()+".jpg"}),images=[],frames={frame:0},i=0;i<frameCount;i++){var img=new Image;img.src=currentFrame(i),images.push(img)}function render(){context.canvas.width=images[0].width,context.canvas.height=images[0].height,context.clearRect(0,0,canvas.width,canvas.height),context.drawImage(images[frames.frame],0,0)}gsap.to(frames,{frame:frameCount-1,snap:"frame",ease:"none",scrollTrigger:{trigger:canvas,scrub:2,end:"100%"},onUpdate:render}),images[0].onload=render;var scrollDirection=function(){0===scrollY&&(logoRise.classList.remove("js-logo-rise"),iconActions.classList.add("js-icon-rise")),this.scrollOld<this.scrollY?(logoRise.classList.add("js-logo-rise"),iconActions.classList.remove("js-icon-rise")):iconActions.classList.add("js-icon-rise")},videoTags=document.querySelectorAll(".js-project-vid");function mediaQ(){var e=window.matchMedia("(min-width: 767px)");!1===e.matches&&(videoTags.forEach(function(e){e.addAttribute("autoplay","")}),window.onscroll=function(e){scrollDirection(),this.scrollOld=this.scrollY}),!0===e.matches&&(videoTags.forEach(function(e){e.removeAttribute("autoplay","")}),window.onscroll=function(e){scrollDirection(),this.scrollOld=this.scrollY})}window.addEventListener("DOMContentLoaded",mediaQ),window.addEventListener("resize",mediaQ);var parallaxOptions={rootMargin:"0px 0px",threshold:.25},parallaxCallback=function(e,o){e.forEach(function(e){e.isIntersecting?(e.isIntersecting&&e.target.classList.contains("js-parallax-light")&&window.addEventListener("scroll",parallaxLightSpeed,!1),e.isIntersecting&&e.target.classList.contains("js-parallax-rediculous")&&window.addEventListener("scroll",parallaxRediculousSpeed,!1),e.isIntersecting&&e.target.classList.contains("js-parallax-ludicrous")&&window.addEventListener("scroll",parallaxLudicrousSpeed,!1),e.isIntersecting&&e.target.classList.contains("js-parallax-plaid")&&window.addEventListener("scroll",parallaxPlaidSpeed,!1),e.isIntersecting&&e.target.classList.contains("js-parallax-about")&&window.addEventListener("scroll",parallaxAboutSpeed,!1)):(e.target.classList.contains("js-parallax-light")&&window.removeEventListener("scroll",parallaxLightSpeed,!1),e.target.classList.contains("js-parallax-rediculous")&&window.removeEventListener("scroll",parallaxRediculousSpeed,!1),e.target.classList.contains("js-parallax-ludicrous")&&window.removeEventListener("scroll",parallaxLudicrousSpeed,!1),e.target.classList.contains("js-parallax-plaid")&&window.removeEventListener("scroll",parallaxPlaidSpeed,!1),e.target.classList.contains("js-parallax-about")&&window.removeEventListener("scroll",parallaxAboutSpeed,!1))})},observerParallax=new IntersectionObserver(parallaxCallback,parallaxOptions);function parallaxLightSpeed(){var o=.07*window.scrollY;parallaxLight.forEach(function(e){e.style.translate="0 "+o+"px"})}function parallaxRediculousSpeed(){var o=.06*window.scrollY;parallaxRediculous.forEach(function(e){e.style.translate="0 "+o+"px"})}function parallaxLudicrousSpeed(){var o=.1*window.scrollY;parallaxLudicrous.forEach(function(e){e.style.translate="0 "+o+"px"})}function parallaxPlaidSpeed(){var o=.08*window.scrollY;parallaxPlaid.forEach(function(e){e.style.translate="0 "+o+"px"})}function parallaxAboutSpeed(){var o=.015*window.scrollY;parallaxAbout.forEach(function(e){e.style.translate="0 "+o+"px"})}window.addEventListener("load",function(){!0===window.matchMedia("(min-width: 767px)").matches&&(parallaxLight.forEach(function(e){observerParallax.observe(e)}),parallaxRediculous.forEach(function(e){observerParallax.observe(e)}),parallaxLudicrous.forEach(function(e){observerParallax.observe(e)}),parallaxPlaid.forEach(function(e){observerParallax.observe(e)}),parallaxAbout.forEach(function(e){observerParallax.observe(e)}))});